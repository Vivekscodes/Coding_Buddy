<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coding Learning Recommender - Personality-Driven Learning</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      line-height: 1.6;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .personality-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    .quiz-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      margin-bottom: 2rem;
    }
    
    .quiz-header {
      text-align: center;
      margin-bottom: 3rem;
    }
    
    .quiz-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 1rem;
    }
    
    .quiz-subtitle {
      font-size: 1.2rem;
      color: #7f8c8d;
      margin-bottom: 2rem;
    }
    
    .question-card {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 2rem;
      margin-bottom: 2rem;
      border-left: 4px solid #3498db;
    }
    
    .question-number {
      color: #3498db;
      font-weight: 600;
      margin-bottom: 1rem;
    }
    
    .question-text {
      font-size: 1.3rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 1.5rem;
    }
    
    .option {
      background: white;
      border: 2px solid #e9ecef;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .option:hover {
      border-color: #3498db;
      background: #f8f9ff;
    }
    
    .option.selected {
      border-color: #3498db;
      background: #e3f2fd;
    }
    
    .option input[type="radio"] {
      margin-right: 1rem;
    }
    
    .submit-btn {
      background: linear-gradient(45deg, #3498db, #2980b9);
      color: white;
      border: none;
      padding: 1rem 3rem;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.3s ease;
      box-shadow: 0 10px 20px rgba(52, 152, 219, 0.3);
    }
    
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 30px rgba(52, 152, 219, 0.4);
    }
    
    .personality-result {
      display: none;
      text-align: center;
    }
    
    .personality-type {
      font-size: 3rem;
      margin-bottom: 2rem;
    }
    
    .personality-description {
      font-size: 1.2rem;
      color: #34495e;
      margin-bottom: 2rem;
    }
    
    .learning-modules {
      display: none;
      margin-top: 3rem;
    }
    
    .module-card {
      background: white;
      border-radius: 15px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      border-left: 4px solid #27ae60;
    }
    
    .module-title {
      font-size: 1.4rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 1rem;
    }
    
    .module-description {
      color: #7f8c8d;
      margin-bottom: 1rem;
    }
    
    .skill-tags {
      margin-bottom: 1rem;
    }
    
    .skill-tag {
      background: #e8f5e8;
      color: #27ae60;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.9rem;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
      display: inline-block;
    }
    
    .progress-indicator {
      display: flex;
      justify-content: center;
      margin-bottom: 2rem;
    }
    
    .progress-step {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 1rem;
      color: #6c757d;
      font-weight: 600;
    }
    
    .progress-step.active {
      background: #3498db;
      color: white;
    }
    
    .loading {
      display: none;
      text-align: center;
      padding: 2rem;
    }
    
    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 1rem;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .fade-in {
      animation: fadeIn 0.6s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .continue-btn {
      background: linear-gradient(45deg, #27ae60, #229954);
      color: white;
      border: none;
      padding: 1rem 3rem;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 2rem;
      transition: transform 0.3s ease;
    }
    
    .continue-btn:hover {
      transform: translateY(-2px);
    }
  </style>
</head>
<body>
  <div class="personality-container">
    <!-- Progress Indicator -->
    <div class="progress-indicator">
      <div class="progress-step active" id="step1">1</div>
      <div class="progress-step" id="step2">2</div>
      <div class="progress-step" id="step3">3</div>
    </div>

    <!-- Personality Quiz -->
    <div class="quiz-card" id="personalityQuiz">
      <div class="quiz-header">
        <h1 class="quiz-title">Discover Your Coder Personality Type</h1>
        <p class="quiz-subtitle">Take this quick assessment to get personalized learning recommendations powered by AI</p>
      </div>
      
      <form id="personalityForm">
        <div class="question-card">
          <div class="question-number">Question 1 of 10</div>
          <div class="question-text">When starting a new coding project, do you:</div>
          <div class="option">
            <input type="radio" name="q1" value="E" id="q1a" required />
            <label for="q1a">Dive into the code and figure it out on the go</label>
          </div>
          <div class="option">
            <input type="radio" name="q1" value="I" id="q1b" />
            <label for="q1b">Spend time planning the architecture first</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 2 of 10</div>
          <div class="question-text">After solving a tough bug, do you:</div>
          <div class="option">
            <input type="radio" name="q2" value="E" id="q2a" required />
            <label for="q2a">Share your excitement with teammates</label>
          </div>
          <div class="option">
            <input type="radio" name="q2" value="I" id="q2b" />
            <label for="q2b">Reflect quietly and note what you learned</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 3 of 10</div>
          <div class="question-text">When reading unfamiliar code, you:</div>
          <div class="option">
            <input type="radio" name="q3" value="S" id="q3a" required />
            <label for="q3a">Focus on each line and comment</label>
          </div>
          <div class="option">
            <input type="radio" name="q3" value="N" id="q3b" />
            <label for="q3b">Try to understand the high-level intent first</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 4 of 10</div>
          <div class="question-text">Do you prefer coding with:</div>
          <div class="option">
            <input type="radio" name="q4" value="F" id="q4a" required />
            <label for="q4a">Meaningful real-world use cases</label>
          </div>
          <div class="option">
            <input type="radio" name="q4" value="T" id="q4b" />
            <label for="q4b">Logical puzzles and technical challenges</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 5 of 10</div>
          <div class="question-text">When faced with a tight deadline, you:</div>
          <div class="option">
            <input type="radio" name="q5" value="J" id="q5a" required />
            <label for="q5a">Follow a structured plan</label>
          </div>
          <div class="option">
            <input type="radio" name="q5" value="P" id="q5b" />
            <label for="q5b">Adapt and decide what to do in the moment</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 6 of 10</div>
          <div class="question-text">In a team setting, you usually:</div>
          <div class="option">
            <input type="radio" name="q6" value="E" id="q6a" required />
            <label for="q6a">Lead discussions and propose ideas</label>
          </div>
          <div class="option">
            <input type="radio" name="q6" value="I" id="q6b" />
            <label for="q6b">Observe and contribute when necessary</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 7 of 10</div>
          <div class="question-text">When debugging, your strategy is:</div>
          <div class="option">
            <input type="radio" name="q7" value="S" id="q7a" required />
            <label for="q7a">Use print statements or logs step-by-step</label>
          </div>
          <div class="option">
            <input type="radio" name="q7" value="N" id="q7b" />
            <label for="q7b">Build hypotheses and test scenarios broadly</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 8 of 10</div>
          <div class="question-text">Which do you value more in code?</div>
          <div class="option">
            <input type="radio" name="q8" value="T" id="q8a" required />
            <label for="q8a">Performance and efficiency</label>
          </div>
          <div class="option">
            <input type="radio" name="q8" value="F" id="q8b" />
            <label for="q8b">Readability and team understanding</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 9 of 10</div>
          <div class="question-text">How do you handle project changes?</div>
          <div class="option">
            <input type="radio" name="q9" value="J" id="q9a" required />
            <label for="q9a">Prefer to stick to the original plan</label>
          </div>
          <div class="option">
            <input type="radio" name="q9" value="P" id="q9b" />
            <label for="q9b">Enjoy adjusting as things evolve</label>
          </div>
        </div>

        <div class="question-card">
          <div class="question-number">Question 10 of 10</div>
          <div class="question-text">In terms of learning new tech:</div>
          <div class="option">
            <input type="radio" name="q10" value="N" id="q10a" required />
            <label for="q10a">You experiment with it hands-on</label>
          </div>
          <div class="option">
            <input type="radio" name="q10" value="S" id="q10b" />
            <label for="q10b">You prefer reading the docs and tutorials first</label>
          </div>
        </div>

        <div class="text-center">
          <button type="submit" class="submit-btn">
            <i class="fas fa-brain"></i> Analyze My Personality
          </button>
        </div>
      </form>
    </div>

    <!-- Loading State -->
    <div class="loading" id="loadingState">
      <div class="spinner"></div>
      <h3>Analyzing your personality...</h3>
      <p>Our AI is creating personalized learning recommendations just for you!</p>
    </div>

    <!-- Personality Result -->
    <div class="personality-result quiz-card" id="personalityResult">
      <div class="personality-type" id="personalityIcon"></div>
      <h2 id="personalityTitle"></h2>
      <p class="personality-description" id="personalityDescription"></p>
      <div class="text-center">
        <button class="continue-btn" onclick="showLearningModules()">
          <i class="fas fa-arrow-right"></i> See My Learning Modules
        </button>
      </div>
    </div>

    <!-- Learning Modules -->
    <div class="learning-modules quiz-card" id="learningModules">
      <h2 class="text-center mb-4">Your Personalized Learning Modules</h2>
      <p class="text-center text-muted mb-4">Based on your personality type, here are AI-curated learning paths designed specifically for you:</p>
      <div id="modulesContainer"></div>
      <div class="text-center">
        <button class="continue-btn" onclick="continueToCodeAnalyzer()">
          <i class="fas fa-code"></i> Continue to Code Analyzer
        </button>
      </div>
    </div>
  </div>

  <script>
    let userPersonality = null;
    let userPersonalityType = null;

    // Personality type definitions
    const personalityTypes = {
      'ENFP': {
        icon: '🌟',
        title: 'The Innovative Creator',
        description: 'You thrive on creativity and building innovative solutions. You enjoy exploring new technologies and creating unique applications that inspire others.',
        modules: [
          {
            title: 'Creative Coding & Interactive Art',
            description: 'Explore the intersection of code and creativity through generative art, interactive installations, and creative web experiences.',
            skills: ['p5.js', 'Three.js', 'Creative Algorithms', 'Interactive Design'],
            duration: '6-8 weeks',
            difficulty: 'Beginner-Intermediate'
          },
          {
            title: 'Frontend Innovation Lab',
            description: 'Master cutting-edge frontend technologies and create beautiful, innovative user interfaces.',
            skills: ['React', 'Vue.js', 'CSS Animations', 'WebGL', 'Progressive Web Apps'],
            duration: '8-10 weeks',
            difficulty: 'Intermediate'
          }
        ]
      },
      'INTJ': {
        icon: '🧠',
        title: 'The System Architect',
        description: 'You excel at designing complex systems and understanding deep technical concepts. You prefer well-structured, efficient solutions.',
        modules: [
          {
            title: 'Advanced Algorithms & Data Structures',
            description: 'Master complex algorithms, optimize performance, and understand computational complexity theory.',
            skills: ['Algorithm Design', 'Big O Analysis', 'Dynamic Programming', 'Graph Theory'],
            duration: '10-12 weeks',
            difficulty: 'Advanced'
          },
          {
            title: 'System Design & Architecture',
            description: 'Learn to design scalable, maintainable systems and understand distributed computing principles.',
            skills: ['System Design', 'Microservices', 'Database Design', 'Distributed Systems'],
            duration: '12-14 weeks',
            difficulty: 'Advanced'
          }
        ]
      },
      'ESFJ': {
        icon: '🤝',
        title: 'The Collaborative Builder',
        description: 'You enjoy working with teams and building applications that help people. You focus on user experience and community impact.',
        modules: [
          {
            title: 'User-Centered Development',
            description: 'Learn to build applications with focus on user experience, accessibility, and community needs.',
            skills: ['UX/UI Design', 'Accessibility', 'User Research', 'React/Vue.js'],
            duration: '8-10 weeks',
            difficulty: 'Beginner-Intermediate'
          },
          {
            title: 'Open Source Contribution',
            description: 'Learn to contribute to open source projects and build applications that serve communities.',
            skills: ['Git/GitHub', 'Code Review', 'Documentation', 'Community Building'],
            duration: '6-8 weeks',
            difficulty: 'Intermediate'
          }
        ]
      },
      'ISTP': {
        icon: '🔧',
        title: 'The Practical Problem Solver',
        description: 'You focus on practical solutions and hands-on problem solving. You prefer efficient, proven methodologies.',
        modules: [
          {
            title: 'Full-Stack Development Bootcamp',
            description: 'Build complete applications using proven technologies and industry best practices.',
            skills: ['Node.js', 'React', 'Databases', 'API Development', 'Testing'],
            duration: '12-16 weeks',
            difficulty: 'Intermediate'
          },
          {
            title: 'DevOps & Cloud Engineering',
            description: 'Learn deployment, scaling, and infrastructure management in cloud environments.',
            skills: ['AWS/Azure', 'Docker', 'Kubernetes', 'CI/CD', 'Monitoring'],
            duration: '10-12 weeks',
            difficulty: 'Intermediate-Advanced'
          }
        ]
      }
    };

    // Default modules for other personality types
    const defaultModules = [
      {
        title: 'Fundamentals of Programming',
        description: 'Build a strong foundation in programming concepts and best practices.',
        skills: ['Programming Logic', 'Data Structures', 'Algorithms', 'Problem Solving'],
        duration: '8-10 weeks',
        difficulty: 'Beginner'
      },
      {
        title: 'Web Development Essentials',
        description: 'Learn to build modern web applications from front to back.',
        skills: ['HTML/CSS', 'JavaScript', 'Backend Development', 'Databases'],
        duration: '10-12 weeks',
        difficulty: 'Beginner-Intermediate'
      }
    ];

    // Add click handlers for options
    document.addEventListener('DOMContentLoaded', function() {
      const options = document.querySelectorAll('.option');
      options.forEach(option => {
        option.addEventListener('click', function() {
          const radio = this.querySelector('input[type="radio"]');
          if (radio) {
            radio.checked = true;
            
            // Remove selected class from other options in the same question
            const questionCard = this.closest('.question-card');
            questionCard.querySelectorAll('.option').forEach(opt => {
              opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            this.classList.add('selected');
          }
        });
      });
    });

    document.getElementById('personalityForm').addEventListener('submit', function(e) {
      e.preventDefault();
      analyzePersonality();
    });

    async function analyzePersonality() {
      // Show loading state
      document.getElementById('personalityQuiz').style.display = 'none';
      document.getElementById('loadingState').style.display = 'block';
      document.getElementById('step2').classList.add('active');

      // Collect answers
      const formData = new FormData(document.getElementById('personalityForm'));
      let result = "";
      
      for (let [key, value] of formData.entries()) {
        result += value;
      }

      // Determine personality type (simplified MBTI-like analysis)
      userPersonality = result;
      userPersonalityType = determinePersonalityType(result);

      // Simulate AI processing time
      await new Promise(resolve => setTimeout(resolve, 2000));

      // Get personality data
      const personalityData = personalityTypes[userPersonalityType] || {
        icon: '💻',
        title: 'The Adaptive Learner',
        description: 'You have a unique learning style that adapts to different situations. You enjoy exploring various approaches to programming.',
        modules: defaultModules
      };

      // Update UI with results
      document.getElementById('personalityIcon').textContent = personalityData.icon;
      document.getElementById('personalityTitle').textContent = personalityData.title;
      document.getElementById('personalityDescription').textContent = personalityData.description;

      // Show results
      document.getElementById('loadingState').style.display = 'none';
      document.getElementById('personalityResult').style.display = 'block';
      document.getElementById('personalityResult').classList.add('fade-in');
      
      document.getElementById('step3').classList.add('active');

      // Store personality in localStorage for the main application
      localStorage.setItem('userPersonalityType', userPersonalityType);
      localStorage.setItem('userPersonalityData', JSON.stringify(personalityData));
    }

    function determinePersonalityType(answers) {
      // Simple personality type determination based on answers
      // This is a simplified version - in a real app you'd want more sophisticated analysis
      
      const traits = {
        E: 0, I: 0,  // Extraversion vs Introversion
        S: 0, N: 0,  // Sensing vs Intuition  
        T: 0, F: 0,  // Thinking vs Feeling
        J: 0, P: 0   // Judging vs Perceiving
      };

      // Count trait occurrences
      for (let char of answers) {
        if (traits.hasOwnProperty(char)) {
          traits[char]++;
        }
      }

      // Build personality type
      let type = '';
      type += traits.E >= traits.I ? 'E' : 'I';
      type += traits.S >= traits.N ? 'S' : 'N';
      type += traits.T >= traits.F ? 'T' : 'F';
      type += traits.J >= traits.P ? 'J' : 'P';

      return type;
    }

    function showLearningModules() {
      const personalityData = personalityTypes[userPersonalityType] || {
        modules: defaultModules
      };

      const modulesContainer = document.getElementById('modulesContainer');
      modulesContainer.innerHTML = personalityData.modules.map(module => `
        <div class="module-card fade-in">
          <h3 class="module-title">${module.title}</h3>
          <p class="module-description">${module.description}</p>
          <div class="skill-tags">
            ${module.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
          </div>
          <div class="text-muted">
            <i class="fas fa-clock"></i> Duration: ${module.duration} | 
            <i class="fas fa-signal"></i> Difficulty: ${module.difficulty}
          </div>
        </div>
      `).join('');

      document.getElementById('personalityResult').style.display = 'none';
      document.getElementById('learningModules').style.display = 'block';
      document.getElementById('learningModules').classList.add('fade-in');
    }

    function continueToCodeAnalyzer() {
      // Redirect to the main application with personality data
      window.location.href = '/';
    }
  </script>
</body>
</html>
